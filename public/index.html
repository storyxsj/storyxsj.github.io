<html>
<head>
<meta http-equiv="content-type" content="text/html;charset=utf-8">

<script type="text/javascript" src="public/moon/js/main.js"></script>

<!-- jqueryMain -->
<script type="text/javascript" src="public/jquery/jquery1.12.js"></script>
<script type="text/javascript" src="public/jquery/jquery1.12.min.js"></script>

<!-- jqueryAlert -->
<script type="text/javascript" src="public/jquery/jquery.alert.js"></script>
<link rel="stylesheet" type="text/css"
	href="public/jquery/jquery.alert.css" />

<!-- dataTables -->
<script type="text/javascript" src="public/datatables/js/jquery.js"></script>
<script type="text/javascript"
	src="public/datatables/js/jquery.dataTables.min.js"></script>
<script type="text/javascript"
	src="public/datatables/js/dataTables.wrap.js"></script>
<link rel="stylesheet" type="text/css"
	href="public/datatables/css/jquery.dataTables.min.css" />
<link rel="stylesheet" type="text/css"
	href="public/datatables/css/dataTables.wrap.css" />


<script type="text/javascript"
	src="public/layer/layer.js"></script>

<link rel="stylesheet" type="text/css"
	href="public/layui/css/layui.css" />
<script type="text/javascript"
	src="public/layui/layui.js"></script>

<script type="text/javascript"
	src="public/echarts/echarts.min.js"></script>
<script type="text/javascript"
	src="public/echarts/echarts.wrap.js"></script>


<script>

$(document).ready(function() {
	
});



function jump(){
	//$.ajax({'url':'http://money.finance.sina.com.cn/quotes_service/api/jsonp_v2.php/var%20_sz000731_5_1518135258158=/CN_MarketData.getKLineData?symbol=sz000731&scale=5&ma=no&datalen=8', 'dataType':'jsonp'}).always(function(d){kline(_sz000731_5_1518135258158,"kk")});
	var baseURL = "https://money.finance.sina.com.cn/quotes_service/api/jsonp_v2.php";
	var stockCode = "sz000731";//股票代码
	var scale = "240";//数据周期
	var datalen = "200";//个数
	var now = new Date().getTime();
	var paramName = "_"+stockCode+"_"+scale+"_"+now;//_sz000731_5_1518135258158
	var url = baseURL+"/var%20"+paramName+"=/CN_MarketData.getKLineData?symbol="+stockCode+"&scale="+scale+"&ma=no&datalen="+datalen;
	
	console.info(url);
	$.ajax({'url':url, 'dataType':'jsonp'}).always(function(d){kline(window[paramName],"kk")});
}

function kkformatData(jsonData){
	var adata = [];
	var i=0;
	for(var o in jsonData){
		var sdata = [];
		sdata[0] = jsonData[o].day;
		sdata[1] = jsonData[o].open;
		sdata[2] = jsonData[o].close;
		sdata[3] = jsonData[o].low;
		sdata[4] = jsonData[o].high;
		adata[i] = sdata;
		i++;
      }  

	var day = [];
	var open = [];
	var close = [];
	var low = [];
	var high = [];
	for(var j=0;j<i;j++){
		day[j] = adata[i-1-j][0];
		open[j] = adata[i-1-j][1];
		close[j] = adata[i-1-j][2];
		low[j] = adata[i-1-j][3];
		high[j] = adata[i-1-j][4];
	}
	
	
	layuitableInsert("day",day);
	layuitableInsert("open",open);
	layuitableInsert("close",close);
	layuitableInsert("low",low);
	layuitableInsert("high",high);
	
	chan(day,open,close,low,high);
	return adata;
}



</script>
</head>
<body>
<div onclick="jump();">hi,public~</div>
<div id="kk" style="height: 450px;width:90%"></div>

<form class="layui-form" style="width: 90%;">
 <div class="layui-form-item">
    <label class="layui-form-label">名称</label>
    <div class="layui-input-block">
      <input type="text" name="name" required  lay-verify="required" placeholder="请输入，必选" autocomplete="off" class="layui-input">
    </div>
  </div>
  
  <div class="layui-form-item">
    <label class="layui-form-label">内存(MB)</label>
    <div class="layui-input-block">
      <input type="text" name="ram" required  lay-verify="required" placeholder="请输入，必选" autocomplete="off" class="layui-input">
    </div>
  </div>
  
  <div class="layui-form-item">
    <label class="layui-form-label">VCPU个数</label>
    <div class="layui-input-block">
      <input type="text" name="vcpus" required  lay-verify="required" placeholder="请输入，必选" autocomplete="off" class="layui-input">
    </div>
  </div>
  
  <div class="layui-form-item">
    <label class="layui-form-label">磁盘(G)</label>
    <div class="layui-input-block">
      <input type="text" name="disk" required  lay-verify="required" placeholder="请输入，必选" autocomplete="off" class="layui-input">
    </div>
  </div>
  
  <div class="layui-form-item">
    <label class="layui-form-label">ephemeral</label>
    <div class="layui-input-block">
      <input type="text" name="ephemeral" required  lay-verify="required" placeholder="请输入，必选，建议值：0" autocomplete="off" class="layui-input">
    </div>
  </div>
  
  <div class="layui-form-item">
    <label class="layui-form-label">swap</label>
    <div class="layui-input-block">
      <input type="text" name="swap" required  lay-verify="required" placeholder="请输入，必选，取值可为：0" autocomplete="off" class="layui-input">
    </div>
  </div>
  
  <div class="layui-form-item">
    <label class="layui-form-label">rxtxFactor</label>
    <div class="layui-input-block">
      <input type="text" name="rxtxFactor" required  lay-verify="required" placeholder="请输入，必选，建议值：1" autocomplete="off" class="layui-input">
    </div>
  </div>
  

  <div class="layui-form-item">
    <label class="layui-form-label">isPublic</label>
    <div class="layui-input-block">
      <input type="radio" name="isPublic" value="true" title="true" checked>
      <input type="radio" name="isPublic" value="false" title="false" >
    </div>
  </div>
 
  <div class="layui-form-item">
    <div class="layui-input-block">
      <button class="layui-btn" lay-submit lay-filter="formDemo">立即提交</button>
      <button type="reset" class="layui-btn layui-btn-primary">重置</button>
    </div>
  </div>
</form>


</body>
</html>